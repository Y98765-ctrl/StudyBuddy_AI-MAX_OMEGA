<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>StudyBuddy AI - MAX OMEGA</title>

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:Segoe UI,Arial}
body{
height:100vh;
display:flex;
flex-direction:column;
background:#000814;
color:white;
overflow:hidden;
}
canvas{
position:fixed;
top:0;
left:0;
z-index:0;
}
header{
padding:16px;
text-align:center;
background:rgba(255,255,255,0.05);
backdrop-filter:blur(8px);
z-index:1;
font-weight:bold;
letter-spacing:2px;
}
#chat{
flex:1;
overflow-y:auto;
padding:20px;
display:flex;
flex-direction:column;
z-index:1;
}
.msg{
max-width:80%;
padding:14px;
margin-bottom:12px;
border-radius:16px;
line-height:1.6;
animation:fade .25s ease;
}
.user{
align-self:flex-end;
background:linear-gradient(135deg,#0077b6,#00b4d8);
}
.bot{
align-self:flex-start;
background:rgba(255,255,255,0.08);
backdrop-filter:blur(10px);
}
@keyframes fade{
from{opacity:0;transform:translateY(8px)}
to{opacity:1;transform:translateY(0)}
}
#inputArea{
display:flex;
padding:15px;
background:rgba(255,255,255,0.05);
z-index:1;
}
input{
flex:1;
padding:12px;
border:none;
border-radius:25px;
outline:none;
}
button{
margin-left:10px;
padding:12px 20px;
border:none;
border-radius:25px;
background:#00b4d8;
color:white;
font-weight:bold;
cursor:pointer;
}
</style>
</head>

<body>

<canvas id="bg"></canvas>
<header>OFFLINE GOD AI</header>
<div id="chat"></div>

<div id="inputArea">
<input id="input" placeholder="Ask anything...">
<button onclick="send()">Send</button>
<button onclick="startVoice()">ðŸŽ¤</button>
</div>

<script>

/* =========================
   NEURAL BACKGROUND
========================= */
const canvas=document.getElementById("bg");
const ctx=canvas.getContext("2d");
canvas.width=window.innerWidth;
canvas.height=window.innerHeight;

let particles=[];
for(let i=0;i<100;i++){
particles.push({
x:Math.random()*canvas.width,
y:Math.random()*canvas.height,
dx:(Math.random()-0.5)*0.6,
dy:(Math.random()-0.5)*0.6
});
}

function animate(){
ctx.clearRect(0,0,canvas.width,canvas.height);

particles.forEach(p=>{
p.x+=p.dx;
p.y+=p.dy;
if(p.x<0||p.x>canvas.width)p.dx*=-1;
if(p.y<0||p.y>canvas.height)p.dy*=-1;
ctx.beginPath();
ctx.arc(p.x,p.y,2,0,Math.PI*2);
ctx.fillStyle="#00b4d8";
ctx.fill();
});

for(let i=0;i<particles.length;i++){
for(let j=i+1;j<particles.length;j++){
let dx=particles[i].x-particles[j].x;
let dy=particles[i].y-particles[j].y;
let dist=Math.sqrt(dx*dx+dy*dy);
if(dist<110){
ctx.strokeStyle="rgba(0,180,216,"+(1-dist/110)+")";
ctx.lineWidth=0.4;
ctx.beginPath();
ctx.moveTo(particles[i].x,particles[i].y);
ctx.lineTo(particles[j].x,particles[j].y);
ctx.stroke();
}
}
}
requestAnimationFrame(animate);
}
animate();

/* =========================
   MEMORY ENGINE
========================= */
let memory={
history:[],
lastTopic:null,
mood:"neutral"
};

function remember(key,value){
localStorage.setItem(key,value);
}
function recall(key){
return localStorage.getItem(key);
}

/* =========================
   KNOWLEDGE DATABASE
========================= */
const KNOWLEDGE=[
{
topic:"life",
keywords:["meaning","purpose","why are we here","free will","consciousness"],
response:"Life has no single universal meaning. Humans create purpose through growth, relationships, learning, and contribution."
},
{
topic:"psychology",
keywords:["anxiety","confidence","jealous","overthinking","lonely"],
response:"Psychological states are influenced by thoughts, biology, and environment. Self-awareness and consistent action improve mental strength."
},
{
topic:"science",
keywords:["universe","big bang","black hole","gravity","evolution"],
response:"The universe began 13.8 billion years ago. Science explains natural phenomena through observation and experimentation."
},
{
topic:"technology",
keywords:["ai","algorithm","internet","blockchain","coding"],
response:"Technology solves problems using logic and systems. Artificial intelligence simulates reasoning using algorithms."
},
{
topic:"money",
keywords:["money","invest","financial","income","business"],
response:"Wealth is built by valuable skills, disciplined saving, and long-term investing."
},
{
topic:"study",
keywords:["study","exam","focus","learn","grades"],
response:"Best learning method: active recall, spaced repetition, practice testing."
}
];

/* =========================
   INTENT DETECTION ENGINE
========================= */
function detectIntent(input){
let scores={};
KNOWLEDGE.forEach(k=>{
scores[k.topic]=0;
k.keywords.forEach(word=>{
if(input.includes(word)) scores[k.topic]++;
});
});
let bestTopic=null;
let highest=0;
for(let topic in scores){
if(scores[topic]>highest){
highest=scores[topic];
bestTopic=topic;
}
}
return highest>0?bestTopic:null;
}

/* =========================
   SAFE MATH PARSER
========================= */
function safeMath(input){
if(!/^[0-9+\-*/(). ]+$/.test(input)) return null;
try{
return Function('"use strict";return ('+input+')')();
}catch{return null;}
}

/* =========================
   QUIZ GENERATOR
========================= */
function generateQuiz(){
return "Quiz: What is the capital of France?\nA) Berlin\nB) Paris\nC) Rome\nD) Madrid\nAnswer: B) Paris";
}

/* =========================
   GOD BRAIN
========================= */
function brain(input){

memory.history.push(input);

if(input.includes("my name is")){
let name=input.replace("my name is","").trim();
remember("username",name);
return "Nice to meet you, "+name+".";
}

if(input.includes("what is my name")){
let name=recall("username");
return name? "Your name is "+name+"." : "You haven't told me yet.";
}

let mathResult=safeMath(input);
if(mathResult!==null) return "Result: "+mathResult;

if(input.includes("quiz")) return generateQuiz();

let topic=detectIntent(input);
if(topic){
memory.lastTopic=topic;
return KNOWLEDGE.find(k=>k.topic===topic).response;
}

return "I understand many topics: life, psychology, science, technology, money, study. Ask deeper.";
}

/* =========================
   CHAT SYSTEM
========================= */
const chat=document.getElementById("chat");

function add(text,type){
let div=document.createElement("div");
div.className="msg "+type;
div.innerText=text;
chat.appendChild(div);
chat.scrollTop=chat.scrollHeight;
}

function send(){
let input=document.getElementById("input");
let text=input.value.trim().toLowerCase();
if(!text)return;
add(text,"user");
input.value="";
setTimeout(()=>add(brain(text),"bot"),400);
}

document.getElementById("input")
.addEventListener("keypress",e=>{
if(e.key==="Enter")send();
});

/* =========================
   VOICE SYSTEM
========================= */
function startVoice(){
if(!('webkitSpeechRecognition'in window)) return;
let rec=new webkitSpeechRecognition();
rec.lang="en-US";
rec.start();
rec.onresult=function(e){
document.getElementById("input").value=e.results[0][0].transcript;
send();
};
}

function speak(text){
let utter=new SpeechSynthesisUtterance(text);
speechSynthesis.speak(utter);
}

</script>
</body>
</html>
